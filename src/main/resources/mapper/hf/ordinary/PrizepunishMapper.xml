<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.paladin.hf.mapper.ordinary.PrizepunishMapper">
   
  <select id="selectPrizepunishAll" resultType="Map">
  	SELECT p.*,u.name FROM prizepunish AS p 
  		LEFT JOIN org_user AS u 
  	ON p.org_user_id=u.id where 1=1
  	
	  <if test="orgUserId !=null and orgUserId !='' ">
	  	and p.org_user_id=#{orgUserId}
	  </if>
	  
	 <if test="dictCode !=null and dictCode !='' ">
	 	and p.dict_code = #{dictCode}  
	 </if> 
	  <if test="operationState !=null and operationState !='' ">
	 	and p.operation_state = #{operationState} 
	 </if> 
	 <if test="state !=null and state !='' ">
	 	and p.operation_state != #{state} and p.operation_state !='2' 
	 </if> 
	 <if test="stateUnit !=null and stateUnit !='' ">
	 	and p.operation_state in(2,4,5)  
	 </if>
	  <if test="examineState !=null and examineState !='' ">
	 	and p.examine_state = #{examineState} 
	 </if> 
	  <if test="happenTime !=null and happenTime !='' ">
	 	and happen_time <![CDATA[>=]]> #{happenTime} 
	 </if>
	 
	 <if test="endhappenTime !=null and endhappenTime !='' ">
	 	and happen_time <![CDATA[<=]]> #{endhappenTime} 
	 </if>
	 
  </select>
  
  
  <select id="appSelectPrizepunishAll" resultType="Map">
  SELECT P.*,dict.`dict_name` FROM prizepunish AS p ,dict WHERE p.dict_code=dict.`sort` AND dict.`dict_code`='SJLX'  AND dict.`status`=0 
  
	  <if test="orgUserId !=null and orgUserId !='' ">
		  	and org_user_id=#{orgUserId}
	  </if>
  
	 <if test="dictCode !=null and dictCode !='' ">
	 	and p.dict_code = #{dictCode}  
	 </if>   
  	
    <if test="examineState !=null and examineState !='' ">
	 	and p.examine_state = #{examineState}  
	 </if>	 
  </select>
  
  <select id="selectPrizepunishAll2" resultType="Map">
	SELECT p.*,u.name FROM prizepunish AS p
	LEFT JOIN org_user AS u
	ON p.org_user_id=u.id where 1=1
	and p.org_user_id=#{orgUserId} 
	and p.operation_state in (4,5)
	
	<if test="dictCode !=null and dictCode !='' ">
		and p.dict_code = #{dictCode}
	</if>
	
	<if test="happenTime !=null and happenTime !='' ">
		and happen_time <![CDATA[>=]]>
		#{happenTime}
	</if>

	<if test="endhappenTime !=null and endhappenTime !='' ">
		and happen_time <![CDATA[<=]]>
		#{endhappenTime}
	</if>
  </select>
  
</mapper>